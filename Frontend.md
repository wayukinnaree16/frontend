## ส่วนที่ 1: Frontend สำหรับผู้บริจาค (Donor)

เป็นส่วนสำหรับผู้ใช้ทั่วไปที่ต้องการค้นหามูลนิธิและบริจาคสิ่งของ โทนสีควรเป็นมิตร อบอุ่น และใช้งานง่าย

### **Flow การใช้งานหลัก:**
สมัครสมาชิก/เข้าสู่ระบบ -> ค้นหามูลนิธิ/สิ่งของที่ต้องการ -> ดูรายละเอียด -> ทำการบริจาค -> ติดตามสถานะการบริจาค -> เขียนรีวิว

---

### **โครงสร้างหน้าต่างๆ (Pages & Flows):**

#### **หน้าแรก (Home Page)**
*   **วัตถุประสงค์:** เป็นจุดแรกที่ผู้ใช้เข้ามาเจอ นำเสนอข้อมูลสำคัญและกระตุ้นให้เกิดการบริจาค
*   **องค์ประกอบ:**
    *   **Header:**
        *   โลโก้ระบบ
        *   เมนู: หน้าหลัก, ค้นหามูลนิธิ, สิ่งของที่ต้องการ, เกี่ยวกับเรา
        *   ปุ่ม "เข้าสู่ระบบ" และ "สมัครสมาชิก" (หากยังไม่ล็อกอิน)
        *   เมื่อล็อกอินแล้ว จะแสดงชื่อผู้ใช้, ไอคอนแจ้งเตือน (Notification Bell), และเมนูโปรไฟล์ (Dropdown) ที่มีลิงก์ไปยัง "โปรไฟล์ของฉัน", "การบริจาคของฉัน", "มูลนิธิที่ชื่นชอบ", และ "ออกจากระบบ"
    *   **Hero Section:** รูปภาพสวยงามพร้อมข้อความเชิญชวนบริจาค และช่องค้นหาหลัก (ค้นหาชื่อมูลนิธิ)
    *   **ส่วน "มูลนิธิแนะนำ":** แสดงการ์ดมูลนิธิที่น่าสนใจหรือมูลนิธิที่ต้องการความช่วยเหลือเร่งด่วน (ดึงข้อมูลจาก `GET /api/public/foundations`)
    *   **ส่วน "สิ่งของที่ต้องการล่าสุด":** แสดงการ์ดรายการสิ่งของที่มูลนิธิต่างๆ เพิ่งประกาศ (ดึงข้อมูลจาก `GET /api/public/wishlist-items`)
    *   **Footer:** ลิงก์ไปยังหน้าต่างๆ เช่น เกี่ยวกับเรา, คำถามที่พบบ่อย, นโยบายความเป็นส่วนตัว

#### **หน้าสมัครสมาชิก (Register Page)**
*   **Flow:** จากหน้าแรก -> คลิก "สมัครสมาชิก"
*   **องค์ประกอบ:**
    *   ฟอร์มสำหรับกรอกข้อมูล `email`, `password`, `first_name`, `last_name`, `phone_number`, `profile_image_url`
    *   ต้องมี Dropdown ให้เลือกประเภทผู้ใช้เป็น "ผู้บริจาค" (donor)
    *   Checkbox ยอมรับข้อตกลงและเงื่อนไข
    *   ปุ่ม "ยืนยันการสมัคร" (เรียกใช้ `POST /api/auth/register`)
    *   ลิงก์ "มีบัญชีอยู่แล้ว? เข้าสู่ระบบที่นี่"

#### **หน้าเข้าสู่ระบบ (Login Page)**
*   **Flow:** จากหน้าแรก -> คลิก "เข้าสู่ระบบ"
*   **องค์ประกอบ:**
    *   ฟอร์มสำหรับกรอก `email` และ `password`
    *   ปุ่ม "เข้าสู่ระบบ" (เรียกใช้ `POST /api/auth/login`)
    *   ลิงก์ "ลืมรหัสผ่าน?" (ไปหน้าขอรีเซ็ตรหัสผ่าน)
    *   ลิงก์ "ยังไม่มีบัญชี? สมัครเลย"

#### **หน้ารายการมูลนิธิ (Foundations List Page)**
*   **Flow:** จากเมนู -> คลิก "ค้นหามูลนิธิ"
*   **องค์ประกอบ:**
    *   **ส่วนตัวกรอง (Filters):**
        *   ช่องค้นหาตามชื่อ (`name`)
        *   Dropdown เลือกประเภทมูลนิธิ (`type_id`, ดึงข้อมูลจาก `GET /api/public/foundations/types`)
        *   Dropdown เลือกจังหวัด (`province`)
    *   **ส่วนเรียงลำดับ (Sort):** Dropdown สำหรับ `sort_by` (ชื่อ, วันที่สร้าง)
    *   **พื้นที่แสดงผล:** แสดงผลเป็นรูปแบบการ์ดของแต่ละมูลนิธิ (`GET /api/public/foundations`)
        *   ในการ์ดแต่ละใบจะมี: โลโก้, ชื่อมูลนิธิ, ประเภท, ที่ตั้ง (จังหวัด), และปุ่ม "ดูรายละเอียด"
    *   **Pagination:** ตัวเลขสำหรับเปลี่ยนหน้า

#### **หน้ารายละเอียดมูลนิธิ (Foundation Detail Page)**
*   **Flow:** จากหน้ารายการมูลนิธิ -> คลิก "ดูรายละเอียด"
*   **องค์ประกอบ:** (ดึงข้อมูลจาก `GET /api/public/foundations/:foundationId`)
    *   **ส่วนข้อมูลหลัก:** ชื่อมูลนิธิ, โลโก้, ประวัติ/ภารกิจ, ข้อมูลติดต่อ, แผนที่ (gmaps_embed_url)
    *   **ปุ่ม "เพิ่มเป็นรายการโปรด" (Favorite):** รูปหัวใจ สำหรับให้ผู้บริจาคกดติดตาม (เรียกใช้ `POST /api/donor/favorites`)
    *   **Tab Menu:**
        *   **"รายการที่ต้องการ" (Wishlist):** แสดงรายการสิ่งของที่มูลนิธินี้ต้องการ (ดึงจาก `GET /api/public/wishlist-items?foundation_id=...`)
            *   แต่ละรายการมีปุ่ม "ดูรายละเอียดและบริจาค"
        *   **"รีวิว" (Reviews):** แสดงรีวิวจากผู้บริจาคคนอื่น
    *   ข้อมูลอื่นๆ เช่น บริการรับของถึงที่ (pickup service)

#### **หน้ารายละเอียดสิ่งของที่ต้องการ (Wishlist Item Detail Page)**
*   **Flow:** จากหน้ารายละเอียดมูลนิธิ -> คลิก "ดูรายละเอียดและบริจาค" บนรายการสิ่งของ
*   **องค์ประกอบ:** (ดึงข้อมูลจาก `GET /api/public/wishlist-items/:wishlistItemId`)
    *   รูปภาพสิ่งของ, ชื่อรายการ, คำอธิบาย
    *   ข้อมูลเป้าหมาย: จำนวนที่ต้องการ (needed) vs จำนวนที่ได้รับแล้ว (received) พร้อม Progress Bar
    *   ระดับความสำคัญ (priority), วันหมดเขต (expiry_date)
    *   ข้อมูลมูลนิธิเจ้าของรายการ
    *   **ปุ่ม "บริจาคสิ่งนี้"** -> จะเปิด Modal หรือไปหน้าฟอร์มการบริจาค

#### **หน้าฟอร์มการบริจาค (Pledge Form Page/Modal)**
*   **Flow:** จากหน้ารายละเอียดสิ่งของที่ต้องการ -> คลิก "บริจาคสิ่งนี้"
*   **องค์ประกอบ:** (ส่งข้อมูลไปที่ `POST /api/donor/pledges`)
    *   **ส่วน "ข้อมูลสิ่งของของคุณ":**
        *   ช่องกรอก "จำนวนที่บริจาค" (`quantity_pledged`)
        *   Textarea สำหรับ "คำอธิบายสิ่งของ" (`donor_item_description`)
    *   **ส่วน "วิธีการจัดส่ง" (`delivery_method`):**
        *   ตัวเลือก: "นำส่งด้วยตนเอง", "ส่งผ่านบริษัทขนส่ง", "ให้มูลนิธิเข้ารับ"
        *   ถ้าเลือก "ส่งผ่านบริษัทขนส่ง": แสดงช่องให้กรอก "ชื่อบริษัท" (`courier_company_name`) และ "เลขพัสดุ" (`tracking_number`) (อาจกรอกทีหลังได้)
        *   ถ้าเลือก "ให้มูลนิธิเข้ารับ": แสดงช่องให้กรอก "ที่อยู่สำหรับเข้ารับ" และ "วันเวลาที่สะดวก"
    *   **ปุ่ม "ยืนยันการบริจาค"**

#### **หน้าการบริจาคของฉัน (My Pledges Page)**
*   **Flow:** จากเมนูโปรไฟล์ -> คลิก "การบริจาคของฉัน"
*   **องค์ประกอบ:** (ดึงข้อมูลจาก `GET /api/donor/pledges`)
    *   แสดงรายการบริจาคทั้งหมดของผู้ใช้ในรูปแบบตารางหรือการ์ด
    *   แต่ละรายการประกอบด้วย: ชื่อสิ่งของ, ชื่อมูลนิธิ, จำนวน, **สถานะปัจจุบัน** (เช่น รอการอนุมัติ, อนุมัติแล้ว, ได้รับของแล้ว)
    *   **ปุ่ม "ดูรายละเอียด/จัดการ":**
        *   ถ้าสถานะเป็น `approved` และเลือกส่งของเอง: จะมีปุ่ม **"อัปเดตเลขพัสดุ"** (เรียก `PATCH /api/donor/pledges/:pledgeId/tracking`)
        *   ถ้าสถานะยังเป็น `pending_approval`: จะมีปุ่ม **"ยกเลิกการบริจาค"** (เรียก `PATCH /api/donor/pledges/:pledgeId/cancel`)
        *   ถ้าสถานะเป็น `received`: จะมีปุ่ม **"เขียนรีวิว"** (ไปหน้าเขียนรีวิว)

#### **หน้าโปรไฟล์ของฉัน (My Profile Page)**
*   **Flow:** จากเมนูโปรไฟล์ -> คลิก "โปรไฟล์ของฉัน"
*   **องค์ประกอบ:**
    *   แสดงข้อมูลผู้ใช้ปัจจุบัน (ดึงจาก `GET /api/users/me`)
    *   **ปุ่ม "แก้ไขโปรไฟล์"** -> เปิดฟอร์มให้แก้ไข `first_name`, `last_name`, `phone_number` (เรียก `PUT /api/users/me`)
    *   **ส่วน "เปลี่ยนรหัสผ่าน"** -> มีฟอร์มให้กรอกรหัสผ่านปัจจุบันและรหัสผ่านใหม่ (เรียก `PUT /api/users/me/change-password`)

---

## ส่วนที่ 2: Frontend สำหรับผู้ดูแลมูลนิธิ (Foundation Admin)

เป็นส่วน Dashboard สำหรับจัดการข้อมูลของมูลนิธิโดยเฉพาะ ควรออกแบบให้ดูเป็นทางการและใช้งานง่ายสำหรับการจัดการข้อมูล

### **Flow การใช้งานหลัก:**
สมัครสมาชิก/เข้าสู่ระบบ -> (รอการอนุมัติจาก Admin) -> จัดการโปรไฟล์มูลนิธิ -> สร้างและจัดการรายการสิ่งของที่ต้องการ -> จัดการคำขอบริจาค -> ดูเอกสาร

---

### **โครงสร้างหน้าต่างๆ (Pages & Flows):**

#### **หน้า Dashboard หลัก**
*   **วัตถุประสงค์:** สรุปภาพรวมข้อมูลสำคัญของมูลนิธิ
*   **องค์ประกอบ:**
    *   **Side Menu (เมนูด้านข้าง):**
        *   Dashboard
        *   จัดการโปรไฟล์มูลนิธิ
        *   จัดการรายการที่ต้องการ (Wishlist)
        *   จัดการการบริจาค (Pledges)
        *   จัดการเอกสาร
        *   ข้อความ (Messages)
        *   ออกจากระบบ
    *   **Summary Cards:**
        *   จำนวนคำขอบริจาคที่รออนุมัติ (Pending Pledges) -> คลิกแล้วไปหน้าจัดการการบริจาค
        *   จำนวน Wishlist ที่ยัง Active
        *   จำนวนผู้บริจาคทั้งหมด
    *   **แจ้งเตือน:** "โปรไฟล์ของคุณยังไม่สมบูรณ์ กรุณาอัปเดตข้อมูล" หรือ "เอกสารของคุณหมดอายุ/รอการตรวจสอบ"

#### **หน้าจัดการโปรไฟล์มูลนิธิ (Manage Foundation Profile Page)**
*   **Flow:** จาก Side Menu -> คลิก "จัดการโปรไฟล์มูลนิธิ"
*   **องค์ประกอบ:**
    *   แสดงฟอร์มที่กรอกข้อมูลมูลนิธิไว้แล้ว (ดึงจาก `GET /api/foundation/profile/me`)
    *   ทุกช่องสามารถแก้ไขได้ เช่น ชื่อ, ประวัติ, ที่อยู่, ข้อมูลติดต่อ, โซเชียลมีเดีย, ข้อมูลบริการเข้ารับของ
    *   **ปุ่ม "บันทึกการเปลี่ยนแปลง"** (เรียก `PUT /api/foundation/profile/me`)

#### **หน้าจัดการรายการที่ต้องการ (Wishlist Management Page)**
*   **Flow:** จาก Side Menu -> คลิก "จัดการรายการที่ต้องการ"
*   **องค์ประกอบ:**
    *   **ปุ่ม "+ สร้างรายการใหม่"** -> ไปหน้าฟอร์มสร้าง Wishlist
    *   ตารางแสดง Wishlist ทั้งหมดของมูลนิธิ (ดึงจาก `GET /api/foundation/wishlist-items`)
    *   คอลัมน์ในตาราง: ชื่อรายการ, จำนวนที่ต้องการ/ได้รับ, สถานะ, วันที่สร้าง
    *   **Action Buttons (ในแต่ละแถว):**
        *   ปุ่ม **"แก้ไข"** (ไปหน้าฟอร์มแก้ไข Wishlist)
        *   ปุ่ม **"ลบ"** (เรียก `DELETE /api/foundation/wishlist-items/:wishlistItemId`)

#### **หน้าฟอร์มสร้าง/แก้ไข Wishlist (Create/Edit Wishlist Form Page)**
*   **Flow:** จากหน้าจัดการ Wishlist -> คลิก "สร้างรายการใหม่" หรือ "แก้ไข"
*   **องค์ประกอบ:**
    *   ฟอร์มสำหรับกรอก/แก้ไขข้อมูล: `title`, `description`, `quantity_needed`, `priority_level`, `expiry_date`, `category_id` (Dropdown), `images` (อัปโหลด)
    *   **ปุ่ม "บันทึก"** (เรียก `POST` สำหรับสร้างใหม่, `PUT` สำหรับแก้ไข)

#### **หน้าจัดการการบริจาค (Pledge Management Page)**
*   **Flow:** จาก Side Menu -> คลิก "จัดการการบริจาค"
*   **องค์ประกอบ:**
    *   Tabs หรือ Filters สำหรับกรองสถานะ: **รออนุมัติ**, อนุมัติแล้ว, ปฏิเสธแล้ว, ได้รับแล้ว
    *   ตารางแสดงรายการบริจาคที่เข้ามา (ดึงจาก `GET /api/foundation/pledges/received`)
    *   คอลัมน์: ชื่อสิ่งของ, ชื่อผู้บริจาค, จำนวน, วิธีจัดส่ง, วันที่
    *   **Action Buttons (ในแต่ละแถวของ "รออนุมัติ"):**
        *   ปุ่ม **"อนุมัติ"** (เรียก `PATCH /api/foundation/pledges/:pledgeId/approve`)
        *   ปุ่ม **"ปฏิเสธ"** (เรียก `PATCH /api/foundation/pledges/:pledgeId/reject` พร้อม Modal ให้กรอกเหตุผล)
    *   **Action Buttons (ในแต่ละแถวของ "อนุมัติแล้ว"):**
        *   ปุ่ม **"ยืนยันการได้รับของ"** (เรียก `PATCH /api/foundation/pledges/:pledgeId/confirm-receipt`)

#### **หน้าจัดการเอกสาร (Document Management Page)**
*   **Flow:** จาก Side Menu -> คลิก "จัดการเอกสาร"
*   **องค์ประกอบ:**
    *   **ปุ่ม "อัปโหลดเอกสารใหม่"** -> เปิด Modal ให้กรอก `document_type`, `document_url`, `document_name`, `expiry_date` (เรียก `POST /api/foundation/documents`)
    *   ตารางแสดงเอกสารที่อัปโหลดแล้ว (ดึงจาก `GET /api/foundation/documents`)
    *   คอลัมน์: ชื่อเอกสาร, ประเภท, วันหมดอายุ, **สถานะการตรวจสอบ** (เช่น รอตรวจสอบ, อนุมัติแล้ว)
    *   **Action Button:** ปุ่ม **"ลบ"** (เรียก `DELETE /api/foundation/documents/:documentId`)

---

## ส่วนที่ 3: Frontend สำหรับแอดมินระบบ (System Admin)

เป็น Backend Dashboard สำหรับผู้ดูแลระบบทั้งหมด มีสิทธิ์สูงสุดในการจัดการข้อมูลทุกส่วน ควรออกแบบให้ดู Clean และเน้นการแสดงผลข้อมูลแบบตารางเพื่อให้จัดการง่าย

### **Flow การใช้งานหลัก:**
เข้าสู่ระบบ -> ตรวจสอบมูลนิธิที่สมัครใหม่ -> จัดการผู้ใช้ -> จัดการเนื้อหาเว็บไซต์ -> ตรวจสอบรีวิว

---

### **โครงสร้างหน้าต่างๆ (Pages & Flows):**

#### **หน้า Admin Dashboard**
*   **วัตถุประสงค์:** ภาพรวมของทั้งระบบ
*   **องค์ประกอบ:**
    *   **Side Menu:**
        *   Dashboard
        *   จัดการผู้ใช้ (Users)
        *   จัดการมูลนิธิ (Foundations)
        *   จัดการรีวิว (Reviews)
        *   จัดการเนื้อหา (Content)
    *   **Key Metrics:**
        *   จำนวนผู้ใช้ทั้งหมด
        *   จำนวนมูลนิธิที่รอการอนุมัติ (คลิกไปหน้าจัดการมูลนิธิ)
        *   จำนวนรีวิวที่รอการอนุมัติ (คลิกไปหน้าจัดการรีวิว)
        *   จำนวนการบริจาคทั้งหมดในระบบ

#### **หน้าจัดการผู้ใช้ (User Management Page)**
*   **Flow:** จาก Side Menu -> คลิก "จัดการผู้ใช้"
*   **องค์ประกอบ:**
    *   ตารางแสดงผู้ใช้ทั้งหมดในระบบ (ดึงจาก `GET /api/admin/users`)
    *   คอลัมน์: ID, อีเมล, ชื่อ-นามสกุล, ประเภท, **สถานะบัญชี**
    *   **Action Buttons:**
        *   ปุ่ม **"ดูรายละเอียด"** (ไปหน้า User Detail)
        *   ปุ่ม **"เปลี่ยนสถานะ"** (เรียก `PATCH /api/admin/users/:userId/status` เพื่อ `suspend` หรือ `activate`)
        *   ปุ่ม **"รีเซ็ตรหัสผ่าน"** (เรียก `POST /api/auth/force-reset-password`)

#### **หน้าจัดการมูลนิธิ (Foundation Management Page)**
*   **Flow:** จาก Side Menu -> คลิก "จัดการมูลนิธิ"
*   **องค์ประกอบ:**
    *   **Tabs:** "รอการอนุมัติ", "มูลนิธิทั้งหมด"
    *   **Tab "รอการอนุมัติ":** (ดึงจาก `GET /api/admin/foundations/pending-verification`)
        *   ตารางแสดงมูลนิธิที่สมัครเข้ามาใหม่และยังไม่ `verified`
        *   คอลัมน์: ชื่อมูลนิธิ, อีเมลผู้ดูแล, วันที่สมัคร
        *   **Action Button "ตรวจสอบ":** ไปยังหน้าตรวจสอบรายละเอียดมูลนิธิ
    *   **Tab "มูลนิธิทั้งหมด":** ตารางแสดงมูลนิธิทั้งหมดในระบบ พร้อมตัวกรองและค้นหา

#### **หน้าตรวจสอบมูลนิธิ (Foundation Verification Page)**
*   **Flow:** จากหน้าจัดการมูลนิธิ -> คลิก "ตรวจสอบ"
*   **องค์ประกอบ:**
    *   แสดงข้อมูลทั้งหมดที่มูลนิธิกรอกมา
    *   **ส่วน "เอกสารแนบ":**
        *   แสดงรายการเอกสารที่มูลนิธิอัปโหลด (ดึงจาก `GET /api/admin/foundations/:foundationId/documents`)
        *   มีลิงก์ให้กดดูไฟล์เอกสาร
        *   **ปุ่ม "อนุมัติเอกสาร" / "ปฏิเสธเอกสาร"** (เรียก `PATCH /api/admin/foundations/documents/:documentId/review`)
    *   **ส่วนการตัดสินใจ:**
        *   **ปุ่ม "อนุมัติบัญชีมูลนิธิ"** (เรียก `PATCH /api/admin/foundations/:foundationId/approve-account`)
        *   **ปุ่ม "ปฏิเสธบัญชีมูลนิธิ"** (เรียก `PATCH .../reject-account` พร้อม Modal ให้กรอกเหตุผล)

#### **หน้าจัดการรีวิว (Review Management Page)**
*   **Flow:** จาก Side Menu -> คลิก "จัดการรีวิว"
*   **องค์ประกอบ:**
    *   ตารางแสดงรีวิวที่สถานะเป็น `pending_approval` (ดึงจาก `GET /api/admin/reviews/pending-approval`)
    *   คอลัมน์: คะแนน, ข้อความรีวิว, ผู้เขียน, มูลนิธิที่ถูกรีวิว
    *   **Action Buttons:**
        *   **ปุ่ม "อนุมัติ"** (เรียก `PATCH /api/admin/reviews/:reviewId/approve`)
        *   **ปุ่ม "ปฏิเสธ"** (เรียก `PATCH .../reject` พร้อม Modal ให้กรอกเหตุผล)

#### **หน้าจัดการเนื้อหา (Content Management Page)**
*   **Flow:** จาก Side Menu -> คลิก "จัดการเนื้อหา"
*   **องค์ประกอบ:**
    *   **ปุ่ม "+ สร้างหน้าใหม่"** (ไปหน้าฟอร์มสร้าง/แก้ไขเนื้อหา)
    *   ตารางแสดงหน้า Content ทั้งหมด (เช่น About-us, FAQ) (ดึงจาก `GET /api/admin/content-pages`)
    *   คอลัมน์: Title, Slug, สถานะ (Published/Draft)
    *   **Action Buttons:** ปุ่ม **"แก้ไข"**, **"ลบ"**


